{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":102,"index":102}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":103},"end":{"line":2,"column":26,"index":129}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return f}}),Object.defineProperty(_e,\"useRate\",{enumerable:!0,get:function(){return _}}),Object.defineProperty(_e,\"RateProvider\",{enumerable:!0,get:function(){return p}});var e,t=r(d[0]),n=r(d[1]),s=(e=n)&&e.__esModule?e:{default:e},o=r(d[2]);const l=\"https://risapp-production.up.railway.app\",u={ris_to_ves:100,ves_to_ris:120,ris_to_brl:1,updated_at:'',updated_by:''},c=(0,t.createContext)({rates:u,loading:!0,error:null,refreshRate:async()=>{},lastUpdate:null}),_=()=>(0,t.useContext)(c),p=({children:e})=>{const[n,_]=(0,t.useState)(u),[p,f]=(0,t.useState)(!0),[b,v]=(0,t.useState)(null),[y,h]=(0,t.useState)(null),R=(0,t.useCallback)(async()=>{try{console.log('[RateContext] Fetching rate from:',`${l}/api/rate`);const e=await s.default.get(`${l}/api/rate`),t={ris_to_ves:e.data.ris_to_ves||100,ves_to_ris:e.data.ves_to_ris||120,ris_to_brl:e.data.ris_to_brl||1,updated_at:e.data.updated_at||'',updated_by:e.data.updated_by||''};console.log('[RateContext] Rate updated:',t),_(t),h(new Date),v(null)}catch(e){console.error('[RateContext] Error fetching rate:',e),v('Error al cargar la tasa')}finally{f(!1)}},[]);(0,t.useEffect)(()=>{R()},[R]),(0,t.useEffect)(()=>{const e=setInterval(()=>{R()},1e4);return()=>clearInterval(e)},[R]);const C=(0,t.useCallback)(async()=>{f(!0),await R()},[R]);return(0,o.jsx)(c.Provider,{value:{rates:n,loading:p,error:b,refreshRate:C,lastUpdate:y},children:e})};var f=c});","lineCount":1,"map":[[1,92,101,0,"Object"],[1,99,101,0,"defineProperty"],[1,114,101,0,"_e"],[1,117,101,0],[1,128,101,0,"enumerable"],[1,140,101,0],[1,142,101,0,"get"],[1,146,101,0],[1,164,101,0,"_default"],[1,165,101,0],[1,169,38,0,"Object"],[1,176,38,0,"defineProperty"],[1,191,38,0,"_e"],[1,194,38,0],[1,205,38,0,"enumerable"],[1,217,38,0],[1,219,38,0,"get"],[1,223,38,0],[1,241,38,0,"useRate"],[1,242,38,0],[1,246,44,0,"Object"],[1,253,44,0,"defineProperty"],[1,268,44,0,"_e"],[1,271,44,0],[1,287,44,0,"enumerable"],[1,299,44,0],[1,301,44,0,"get"],[1,305,44,0],[1,323,44,0,"RateProvider"],[1,324,44,0],[1,328,1,0],[1,332],[1,334,1,0,"_react"],[1,336,1,0,"r"],[1,338,1,0,"d"],[1,340,1,0],[1,344,2,0,"_axios"],[1,346,2,0,"r"],[1,348,2,0,"d"],[1,350,2,0],[1,354,2,0,"axios"],[1,357],[1,359,2,0,"_axios"],[1,363],[1,390,2,26,"_reactJsxRuntime"],[1,392,2,26,"r"],[1,394,2,26,"d"],[1,396,2,26],[1,400,4,0],[1,406,4,6,"BACKEND_URL"],[1,408,4,17],[1,451,22,6,"defaultRates"],[1,453,22,31],[1,454,23,2,"ris_to_ves"],[1,465,23,14],[1,469,24,2,"ves_to_ris"],[1,480,24,14],[1,484,25,2,"ris_to_brl"],[1,495,25,14],[1,497,26,2,"updated_at"],[1,508,26,14],[1,511,27,2,"updated_by"],[1,522,27,14],[1,526,30,6,"RateContext"],[1,529,30,20],[1,531,30,20,"createContext"],[1,533,30,33,"createContext"],[1,548,30,51],[1,549,31,2,"rates"],[1,555,31,9,"defaultRates"],[1,557,32,2,"loading"],[1,566,32,11],[1,568,33,2,"error"],[1,574,33,9],[1,579,34,2,"refreshRate"],[1,591,34,15,"async"],[1,603,35,2,"lastUpdate"],[1,614,35,14],[1,621,38,13,"useRate"],[1,623,38,23,"useRate"],[1,628,38,29],[1,630,38,29,"useContext"],[1,632,38,39,"useContext"],[1,644,38,40,"RateContext"],[1,647,44,13,"RateProvider"],[1,649,44,57,"RateProvider"],[1,651,44,60,"children"],[1,666,45,2],[1,672,45,9,"rates"],[1,674,45,16,"setRates"],[1,678,45,28],[1,680,45,28,"useState"],[1,682,45,36,"useState"],[1,692,45,47,"defaultRates"],[1,696,46,9,"loading"],[1,698,46,18,"setLoading"],[1,702,46,32],[1,704,46,32,"useState"],[1,706,46,40,"useState"],[1,717,46,41],[1,721,47,9,"error"],[1,723,47,16,"setError"],[1,727,47,28],[1,729,47,28,"useState"],[1,731,47,36,"useState"],[1,741,47,52],[1,748,48,9,"lastUpdate"],[1,750,48,21,"setLastUpdate"],[1,754,48,38],[1,756,48,38,"useState"],[1,758,48,46,"useState"],[1,768,48,60],[1,774,50,8,"fetchRate"],[1,777,50,20],[1,779,50,20,"useCallback"],[1,781,50,31,"useCallback"],[1,794,50,32,"async"],[1,804,51,4],[1,808,52,6,"console"],[1,816,52,14,"log"],[1,820,52,18],[1,856,52,55],[1,859,52,58,"BACKEND_URL"],[1,873,53,6],[1,879,53,12,"response"],[1,887,53,29,"axios"],[1,889,53,34,"default"],[1,897,53,35,"get"],[1,901,53,39],[1,904,53,42,"BACKEND_URL"],[1,918,55,12,"newRates"],[1,920,55,33],[1,921,56,8,"ris_to_ves"],[1,932,56,20,"response"],[1,934,56,29,"data"],[1,939,56,34,"ris_to_ves"],[1,951,56,48],[1,955,57,8,"ves_to_ris"],[1,966,57,20,"response"],[1,968,57,29,"data"],[1,973,57,34,"ves_to_ris"],[1,985,57,48],[1,989,58,8,"ris_to_brl"],[1,1000,58,20,"response"],[1,1002,58,29,"data"],[1,1007,58,34,"ris_to_brl"],[1,1019,58,48],[1,1021,59,8,"updated_at"],[1,1032,59,20,"response"],[1,1034,59,29,"data"],[1,1039,59,34,"updated_at"],[1,1051,59,48],[1,1054,60,8,"updated_by"],[1,1065,60,20,"response"],[1,1067,60,29,"data"],[1,1072,60,34,"updated_by"],[1,1084,60,48],[1,1088,63,6,"console"],[1,1096,63,14,"log"],[1,1100,63,18],[1,1130,63,49,"newRates"],[1,1133,64,6,"setRates"],[1,1135,64,15,"newRates"],[1,1138,65,6,"setLastUpdate"],[1,1140,65,20],[1,1144,65,24,"Date"],[1,1150,66,6,"setError"],[1,1152,66,15],[1,1157,67,4],[1,1158,67,6],[1,1164,67,13,"err"],[1,1167,68,6,"console"],[1,1175,68,14,"error"],[1,1181,68,20],[1,1218,68,58,"err"],[1,1221,69,6,"setError"],[1,1223,69,15],[1,1249,70,4],[1,1250,70,5],[1,1258,71,6,"setLoading"],[1,1261,71,17],[1,1263,72,4],[1,1266,73,5],[1,1271,76,2],[1,1273,76,2,"useEffect"],[1,1275,76,11,"useEffect"],[1,1286,76,12],[1,1291,77,4,"fetchRate"],[1,1296,78,5],[1,1297,78,6,"fetchRate"],[1,1302,81,2],[1,1304,81,2,"useEffect"],[1,1306,81,11,"useEffect"],[1,1317,81,12],[1,1322,82,4],[1,1328,82,10,"interval"],[1,1330,82,21,"setInterval"],[1,1342,82,33],[1,1347,83,6,"fetchRate"],[1,1352,84,7],[1,1357,86,4],[1,1363,86,11],[1,1367,86,17,"clearInterval"],[1,1381,86,31,"interval"],[1,1385,87,5],[1,1386,87,6,"fetchRate"],[1,1390,89,2],[1,1396,89,8,"refreshRate"],[1,1399,89,22],[1,1401,89,22,"useCallback"],[1,1403,89,33,"useCallback"],[1,1416,89,34,"async"],[1,1426,90,4,"setLoading"],[1,1429,90,15],[1,1438,91,10,"fetchRate"],[1,1443,92,5],[1,1444,92,6,"fetchRate"],[1,1448,94,2],[1,1455,95,4],[1,1457,95,4,"_reactJsxRuntime"],[1,1459,95,4,"jsx"],[1,1464,95,5,"RateContext"],[1,1466,95,17,"Provider"],[1,1475,95,25],[1,1476,95,26,"value"],[1,1482,95,33],[1,1483,95,35,"rates"],[1,1491,95,42,"loading"],[1,1501,95,51,"error"],[1,1509,95,58,"refreshRate"],[1,1523,95,71,"lastUpdate"],[1,1537,95,84,"children"],[1,1546,96,7,"children"],[1,1551,101,0],[1,1555,101,0,"_default"],[1,1557,101,15,"RateContext"],[1,1558,101,27],[1,1561]],"functionMap":{"names":["<global>","createContext$argument_0.refreshRate","useRate","RateProvider","fetchRate","useEffect$argument_0","setInterval$argument_0","<anonymous>","refreshRate"],"mappings":"AAA;eCiC,cD;uBEI,6BF;yDGM;gCCM;GDuB;YEG;GFE;YEG;iCCC;KDE;WEE,6BF;GFC;kCKE;GLG;CHO"},"hasCjsExports":false},"type":"js/module"}]}