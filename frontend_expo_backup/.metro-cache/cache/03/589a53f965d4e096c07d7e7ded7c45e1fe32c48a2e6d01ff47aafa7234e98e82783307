{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":102,"index":102}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":103},"end":{"line":2,"column":26,"index":129}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"default\",{enumerable:!0,get:function(){return p}}),Object.defineProperty(_e,\"useRate\",{enumerable:!0,get:function(){return _}}),Object.defineProperty(_e,\"RateProvider\",{enumerable:!0,get:function(){return f}});var e,t=r(d[0]),n=r(d[1]),s=(e=n)&&e.__esModule?e:{default:e},o=r(d[2]);const l=process.env.EXPO_PUBLIC_BACKEND_URL||'',u={ris_to_ves:100,ves_to_ris:120,ris_to_brl:1,updated_at:'',updated_by:''},c=(0,t.createContext)({rates:u,loading:!0,error:null,refreshRate:async()=>{},lastUpdate:null}),_=()=>(0,t.useContext)(c),f=({children:e})=>{const[n,_]=(0,t.useState)(u),[f,p]=(0,t.useState)(!0),[b,v]=(0,t.useState)(null),[y,C]=(0,t.useState)(null),R=(0,t.useCallback)(async()=>{try{console.log('[RateContext] Fetching rate from:',`${l}/api/rate`);const e=await s.default.get(`${l}/api/rate`),t={ris_to_ves:e.data.ris_to_ves||100,ves_to_ris:e.data.ves_to_ris||120,ris_to_brl:e.data.ris_to_brl||1,updated_at:e.data.updated_at||'',updated_by:e.data.updated_by||''};console.log('[RateContext] Rate updated:',t),_(t),C(new Date),v(null)}catch(e){console.error('[RateContext] Error fetching rate:',e),v('Error al cargar la tasa')}finally{p(!1)}},[]);(0,t.useEffect)(()=>{R()},[R]),(0,t.useEffect)(()=>{const e=setInterval(()=>{R()},1e4);return()=>clearInterval(e)},[R]);const P=(0,t.useCallback)(async()=>{p(!0),await R()},[R]);return(0,o.jsx)(c.Provider,{value:{rates:n,loading:f,error:b,refreshRate:P,lastUpdate:y},children:e})};var p=c});","lineCount":1,"map":[[1,92,101,0,"Object"],[1,99,101,0,"defineProperty"],[1,114,101,0,"_e"],[1,117,101,0],[1,128,101,0,"enumerable"],[1,140,101,0],[1,142,101,0,"get"],[1,146,101,0],[1,164,101,0,"_default"],[1,165,101,0],[1,169,38,0,"Object"],[1,176,38,0,"defineProperty"],[1,191,38,0,"_e"],[1,194,38,0],[1,205,38,0,"enumerable"],[1,217,38,0],[1,219,38,0,"get"],[1,223,38,0],[1,241,38,0,"useRate"],[1,242,38,0],[1,246,44,0,"Object"],[1,253,44,0,"defineProperty"],[1,268,44,0,"_e"],[1,271,44,0],[1,287,44,0,"enumerable"],[1,299,44,0],[1,301,44,0,"get"],[1,305,44,0],[1,323,44,0,"RateProvider"],[1,324,44,0],[1,328,1,0],[1,332],[1,334,1,0,"_react"],[1,336,1,0,"r"],[1,338,1,0,"d"],[1,340,1,0],[1,344,2,0,"_axios"],[1,346,2,0,"r"],[1,348,2,0,"d"],[1,350,2,0],[1,354,2,0,"axios"],[1,357],[1,359,2,0,"_axios"],[1,363],[1,390,2,26,"_reactJsxRuntime"],[1,392,2,26,"r"],[1,394,2,26,"d"],[1,396,2,26],[1,400,4,0],[1,406,4,6,"BACKEND_URL"],[1,408,4,20,"process"],[1,416,4,28,"env"],[1,420,4,32,"EXPO_PUBLIC_BACKEND_URL"],[1,445,4,59],[1,448,22,6,"defaultRates"],[1,450,22,31],[1,451,23,2,"ris_to_ves"],[1,462,23,14],[1,466,24,2,"ves_to_ris"],[1,477,24,14],[1,481,25,2,"ris_to_brl"],[1,492,25,14],[1,494,26,2,"updated_at"],[1,505,26,14],[1,508,27,2,"updated_by"],[1,519,27,14],[1,523,30,6,"RateContext"],[1,526,30,20],[1,528,30,20,"createContext"],[1,530,30,33,"createContext"],[1,545,30,51],[1,546,31,2,"rates"],[1,552,31,9,"defaultRates"],[1,554,32,2,"loading"],[1,563,32,11],[1,565,33,2,"error"],[1,571,33,9],[1,576,34,2,"refreshRate"],[1,588,34,15,"async"],[1,600,35,2,"lastUpdate"],[1,611,35,14],[1,618,38,13,"useRate"],[1,620,38,23,"useRate"],[1,625,38,29],[1,627,38,29,"useContext"],[1,629,38,39,"useContext"],[1,641,38,40,"RateContext"],[1,644,44,13,"RateProvider"],[1,646,44,57,"RateProvider"],[1,648,44,60,"children"],[1,663,45,2],[1,669,45,9,"rates"],[1,671,45,16,"setRates"],[1,675,45,28],[1,677,45,28,"useState"],[1,679,45,36,"useState"],[1,689,45,47,"defaultRates"],[1,693,46,9,"loading"],[1,695,46,18,"setLoading"],[1,699,46,32],[1,701,46,32,"useState"],[1,703,46,40,"useState"],[1,714,46,41],[1,718,47,9,"error"],[1,720,47,16,"setError"],[1,724,47,28],[1,726,47,28,"useState"],[1,728,47,36,"useState"],[1,738,47,52],[1,745,48,9,"lastUpdate"],[1,747,48,21,"setLastUpdate"],[1,751,48,38],[1,753,48,38,"useState"],[1,755,48,46,"useState"],[1,765,48,60],[1,771,50,8,"fetchRate"],[1,774,50,20],[1,776,50,20,"useCallback"],[1,778,50,31,"useCallback"],[1,791,50,32,"async"],[1,801,51,4],[1,805,52,6,"console"],[1,813,52,14,"log"],[1,817,52,18],[1,853,52,55],[1,856,52,58,"BACKEND_URL"],[1,870,53,6],[1,876,53,12,"response"],[1,884,53,29,"axios"],[1,886,53,34,"default"],[1,894,53,35,"get"],[1,898,53,39],[1,901,53,42,"BACKEND_URL"],[1,915,55,12,"newRates"],[1,917,55,33],[1,918,56,8,"ris_to_ves"],[1,929,56,20,"response"],[1,931,56,29,"data"],[1,936,56,34,"ris_to_ves"],[1,948,56,48],[1,952,57,8,"ves_to_ris"],[1,963,57,20,"response"],[1,965,57,29,"data"],[1,970,57,34,"ves_to_ris"],[1,982,57,48],[1,986,58,8,"ris_to_brl"],[1,997,58,20,"response"],[1,999,58,29,"data"],[1,1004,58,34,"ris_to_brl"],[1,1016,58,48],[1,1018,59,8,"updated_at"],[1,1029,59,20,"response"],[1,1031,59,29,"data"],[1,1036,59,34,"updated_at"],[1,1048,59,48],[1,1051,60,8,"updated_by"],[1,1062,60,20,"response"],[1,1064,60,29,"data"],[1,1069,60,34,"updated_by"],[1,1081,60,48],[1,1085,63,6,"console"],[1,1093,63,14,"log"],[1,1097,63,18],[1,1127,63,49,"newRates"],[1,1130,64,6,"setRates"],[1,1132,64,15,"newRates"],[1,1135,65,6,"setLastUpdate"],[1,1137,65,20],[1,1141,65,24,"Date"],[1,1147,66,6,"setError"],[1,1149,66,15],[1,1154,67,4],[1,1155,67,6],[1,1161,67,13,"err"],[1,1164,68,6,"console"],[1,1172,68,14,"error"],[1,1178,68,20],[1,1215,68,58,"err"],[1,1218,69,6,"setError"],[1,1220,69,15],[1,1246,70,4],[1,1247,70,5],[1,1255,71,6,"setLoading"],[1,1258,71,17],[1,1260,72,4],[1,1263,73,5],[1,1268,76,2],[1,1270,76,2,"useEffect"],[1,1272,76,11,"useEffect"],[1,1283,76,12],[1,1288,77,4,"fetchRate"],[1,1293,78,5],[1,1294,78,6,"fetchRate"],[1,1299,81,2],[1,1301,81,2,"useEffect"],[1,1303,81,11,"useEffect"],[1,1314,81,12],[1,1319,82,4],[1,1325,82,10,"interval"],[1,1327,82,21,"setInterval"],[1,1339,82,33],[1,1344,83,6,"fetchRate"],[1,1349,84,7],[1,1354,86,4],[1,1360,86,11],[1,1364,86,17,"clearInterval"],[1,1378,86,31,"interval"],[1,1382,87,5],[1,1383,87,6,"fetchRate"],[1,1387,89,2],[1,1393,89,8,"refreshRate"],[1,1396,89,22],[1,1398,89,22,"useCallback"],[1,1400,89,33,"useCallback"],[1,1413,89,34,"async"],[1,1423,90,4,"setLoading"],[1,1426,90,15],[1,1435,91,10,"fetchRate"],[1,1440,92,5],[1,1441,92,6,"fetchRate"],[1,1445,94,2],[1,1452,95,4],[1,1454,95,4,"_reactJsxRuntime"],[1,1456,95,4,"jsx"],[1,1461,95,5,"RateContext"],[1,1463,95,17,"Provider"],[1,1472,95,25],[1,1473,95,26,"value"],[1,1479,95,33],[1,1480,95,35,"rates"],[1,1488,95,42,"loading"],[1,1498,95,51,"error"],[1,1506,95,58,"refreshRate"],[1,1520,95,71,"lastUpdate"],[1,1534,95,84,"children"],[1,1543,96,7,"children"],[1,1548,101,0],[1,1552,101,0,"_default"],[1,1554,101,15,"RateContext"],[1,1555,101,27],[1,1558]],"functionMap":{"names":["<global>","createContext$argument_0.refreshRate","useRate","RateProvider","fetchRate","useEffect$argument_0","setInterval$argument_0","<anonymous>","refreshRate"],"mappings":"AAA;eCiC,cD;uBEI,6BF;yDGM;gCCM;GDuB;YEG;GFE;YEG;iCCC;KDE;WEE,6BF;GFC;kCKE;GLG;CHO"},"hasCjsExports":false},"type":"js/module"}]}