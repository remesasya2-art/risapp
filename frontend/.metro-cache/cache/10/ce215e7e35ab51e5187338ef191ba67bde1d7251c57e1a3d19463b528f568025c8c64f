{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":39,"index":172}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":173},"end":{"line":5,"column":69,"index":242}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":243},"end":{"line":6,"column":26,"index":269}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,_d){\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),_e.registerForPushNotificationsAsync=async function(){let e=null;if(!o.isDevice)return console.log('Push notifications require a physical device'),null;const{status:t}=await n.getPermissionsAsync();let c=t;if('granted'!==t){const{status:e}=await n.requestPermissionsAsync();c=e}if('granted'!==c)return console.log('Push notification permission not granted'),null;try{e=(await n.getExpoPushTokenAsync({projectId:s.default.expoConfig?.extra?.eas?.projectId})).data,console.log('Expo Push Token:',e)}catch(t){console.log('Error getting Expo push token:',t);try{e=(await n.getDevicePushTokenAsync()).data,console.log('Device Push Token:',e)}catch(e){console.log('Error getting device push token:',e)}}return e},_e.sendPushTokenToServer=async function(e){try{const t=await c.default.getItem('session_token');return t?(await u.default.post(`${l}/api/auth/register-fcm-token`,{fcm_token:e},{headers:{Authorization:`Bearer ${t}`}}),console.log('FCM token registered with server'),!0):(console.log('No session token, cannot register FCM token'),!1)}catch(e){return console.error('Error sending push token to server:',e),!1}},_e.addNotificationReceivedListener=function(e){return n.addNotificationReceivedListener(e)},_e.addNotificationResponseReceivedListener=function(e){return n.addNotificationResponseReceivedListener(e)},_e.scheduleLocalNotification=async function(e,t,o){await n.scheduleNotificationAsync({content:{title:e,body:t,data:o,sound:!0},trigger:null})};var n=e(r(_d[0])),o=e(r(_d[1]));r(_d[2]);var s=t(r(_d[3])),c=t(r(_d[4])),u=t(r(_d[5]));const l=\"https://ris-transfer.preview.emergentagent.com\";n.setNotificationHandler({handleNotification:async()=>({shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0})})});","lineCount":1,"map":[[1,378,19,0,"_e"],[1,381,19,0,"registerForPushNotificationsAsync"],[1,415,19,7,"async"],[1,432,20,2],[1,436,20,6,"token"],[1,438,20,29],[1,443,23,2],[1,447,23,7,"Device"],[1,449,23,14,"isDevice"],[1,458,25,4],[1,465,24,4,"console"],[1,473,24,12,"log"],[1,477,24,16],[1,525,25,11],[1,530,47,2],[1,536,47,10,"status"],[1,543,47,18,"existingStatus"],[1,552,47,43,"Notifications"],[1,554,47,57,"getPermissionsAsync"],[1,576,48,2],[1,580,48,6,"finalStatus"],[1,582,48,20,"existingStatus"],[1,584,50,2],[1,587,50,25],[1,599,50,6,"existingStatus"],[1,601,50,36],[1,602,51,4],[1,608,51,10,"status"],[1,615,51,12,"status"],[1,624,51,29,"Notifications"],[1,626,51,43,"requestPermissionsAsync"],[1,652,52,4,"finalStatus"],[1,654,52,18,"status"],[1,655,53,2],[1,656,55,2],[1,659,55,22],[1,671,55,6,"finalStatus"],[1,673,57,4],[1,680,56,4,"console"],[1,688,56,12,"log"],[1,692,56,16],[1,736,57,11],[1,741,60,2],[1,745,65,4,"token"],[1,754,62,32,"Notifications"],[1,756,62,46,"getExpoPushTokenAsync"],[1,778,62,68],[1,779,63,6,"projectId"],[1,789,63,17,"Constants"],[1,791,63,26,"default"],[1,799,63,27,"expoConfig"],[1,811,63,39,"extra"],[1,818,63,46,"eas"],[1,823,63,51,"projectId"],[1,836,65,26,"data"],[1,841,66,4,"console"],[1,849,66,12,"log"],[1,853,66,16],[1,872,66,36,"token"],[1,874,67,2],[1,875,67,4],[1,881,67,11,"error"],[1,884,68,4,"console"],[1,892,68,12,"log"],[1,896,68,16],[1,929,68,50,"error"],[1,932,71,4],[1,936,73,6,"token"],[1,945,72,29,"Notifications"],[1,947,72,43,"getDevicePushTokenAsync"],[1,974,73,23,"data"],[1,979,74,6,"console"],[1,987,74,14,"log"],[1,991,74,18],[1,1012,74,40,"token"],[1,1014,75,4],[1,1015,75,6],[1,1021,75,13,"fcmError"],[1,1024,76,6,"console"],[1,1032,76,14,"log"],[1,1036,76,18],[1,1071,76,54,"fcmError"],[1,1073,77,4],[1,1074,78,2],[1,1075,80,2],[1,1082,80,9,"token"],[1,1083,81,0],[1,1085,83,0,"_e"],[1,1088,83,0,"sendPushTokenToServer"],[1,1110,83,7,"async"],[1,1125,83,44,"token"],[1,1128,84,2],[1,1132,85,4],[1,1138,85,10,"sessionToken"],[1,1146,85,31,"AsyncStorage"],[1,1148,85,43,"default"],[1,1156,85,44,"getItem"],[1,1164,85,52],[1,1181,86,4],[1,1188,86,9,"sessionToken"],[1,1197,91,10,"axios"],[1,1199,91,15,"default"],[1,1207,91,16,"post"],[1,1212,92,6],[1,1215,92,9,"BACKEND_URL"],[1,1247,93,6],[1,1248,93,8,"fcm_token"],[1,1258,93,19,"token"],[1,1261,94,6],[1,1262,94,8,"headers"],[1,1270,94,17],[1,1271,94,19,"Authorization"],[1,1285,94,34],[1,1295,94,44,"sessionToken"],[1,1302,97,4,"console"],[1,1310,97,12,"log"],[1,1314,97,16],[1,1351,98,11],[1,1355,87,6,"console"],[1,1363,87,14,"log"],[1,1367,87,18],[1,1415,88,13],[1,1417,99,2],[1,1418,99,4],[1,1424,99,11,"error"],[1,1427,101,4],[1,1434,100,4,"console"],[1,1442,100,12,"error"],[1,1448,100,18],[1,1486,100,57,"error"],[1,1490,101,11],[1,1491,102,2],[1,1492,103,0],[1,1494,105,0,"_e"],[1,1497,105,0,"addNotificationReceivedListener"],[1,1529,105,7],[1,1538,106,2,"callback"],[1,1541,108,2],[1,1548,108,9,"Notifications"],[1,1550,108,23,"addNotificationReceivedListener"],[1,1582,108,55,"callback"],[1,1584,109,0],[1,1586,111,0,"_e"],[1,1589,111,0,"addNotificationResponseReceivedListener"],[1,1629,111,7],[1,1638,112,2,"callback"],[1,1641,114,2],[1,1648,114,9,"Notifications"],[1,1650,114,23,"addNotificationResponseReceivedListener"],[1,1690,114,63,"callback"],[1,1692,115,0],[1,1694,117,0,"_e"],[1,1697,117,0,"scheduleLocalNotification"],[1,1723,117,7,"async"],[1,1738,118,2,"title"],[1,1740,119,2,"body"],[1,1742,120,2,"data"],[1,1751,122,8,"Notifications"],[1,1753,122,22,"scheduleNotificationAsync"],[1,1779,122,48],[1,1780,123,4,"content"],[1,1788,123,13],[1,1789,124,6,"title"],[1,1797,125,6,"body"],[1,1804,126,6,"data"],[1,1811,127,6,"sound"],[1,1818,127,13],[1,1821,129,4,"trigger"],[1,1829,129,13],[1,1835,131,0],[1,1837,1,0],[1,1841,1,0,"Notifications"],[1,1843,1,0,"_interopNamespace"],[1,1845,1,0,"r"],[1,1847,1,0,"_d"],[1,1850,1,0],[1,1855,2,0,"Device"],[1,1857,2,0,"_interopNamespace"],[1,1859,2,0,"r"],[1,1861,2,0,"_d"],[1,1864,2,0],[1,1869,2,38,"r"],[1,1871,2,38,"_d"],[1,1874,2,38],[1,1878,4,0],[1,1882,4,0,"Constants"],[1,1884,4,0,"_interopDefault"],[1,1886,4,0,"r"],[1,1888,4,0,"_d"],[1,1891,4,0],[1,1896,5,0,"AsyncStorage"],[1,1898,5,0,"_interopDefault"],[1,1900,5,0,"r"],[1,1902,5,0,"_d"],[1,1905,5,0],[1,1910,6,0,"axios"],[1,1912,6,0,"_interopDefault"],[1,1914,6,0,"r"],[1,1916,6,0,"_d"],[1,1919,6,0],[1,1924,8,0],[1,1930,8,6,"BACKEND_URL"],[1,1932,8,17],[1,1981,11,0,"Notifications"],[1,1983,11,14,"setNotificationHandler"],[1,2006,11,37],[1,2007,12,2,"handleNotification"],[1,2026,12,22,"async"],[1,2036,12,22],[1,2037,13,4,"shouldShowAlert"],[1,2054,13,21],[1,2056,14,4,"shouldPlaySound"],[1,2073,14,21],[1,2075,15,4,"shouldSetBadge"],[1,2091,15,20],[1,2096,131,1],[1,2099]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","sendPushTokenToServer","addNotificationReceivedListener","addNotificationResponseReceivedListener","scheduleLocalNotification"],"mappings":"AAA;sBCW;IDI;OEG;CF8D;OGE;CHoB;OIE;CJI;OKE;CLI;OME;CNc"},"hasCjsExports":false},"type":"js/module"}]}