{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":102,"index":102}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":103},"end":{"line":2,"column":26,"index":129}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/RateContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"useRate\", {\n    enumerable: true,\n    get: function () {\n      return useRate;\n    }\n  });\n  Object.defineProperty(exports, \"RateProvider\", {\n    enumerable: true,\n    get: function () {\n      return RateProvider;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const defaultRates = {\n    ris_to_ves: 100,\n    ves_to_ris: 120,\n    ris_to_brl: 1,\n    updated_at: '',\n    updated_by: ''\n  };\n  const RateContext = /*#__PURE__*/(0, _react.createContext)({\n    rates: defaultRates,\n    loading: true,\n    error: null,\n    refreshRate: async () => {},\n    lastUpdate: null\n  });\n  const useRate = () => {\n    _s();\n    return (0, _react.useContext)(RateContext);\n  };\n  _s(useRate, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  const RateProvider = ({\n    children\n  }) => {\n    _s2();\n    const [rates, setRates] = (0, _react.useState)(defaultRates);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [error, setError] = (0, _react.useState)(null);\n    const [lastUpdate, setLastUpdate] = (0, _react.useState)(null);\n    const fetchRate = (0, _react.useCallback)(async () => {\n      try {\n        console.log('[RateContext] Fetching rate from:', `${BACKEND_URL}/api/rate`);\n        const response = await axios.default.get(`${BACKEND_URL}/api/rate`);\n        const newRates = {\n          ris_to_ves: response.data.ris_to_ves || 100,\n          ves_to_ris: response.data.ves_to_ris || 120,\n          ris_to_brl: response.data.ris_to_brl || 1,\n          updated_at: response.data.updated_at || '',\n          updated_by: response.data.updated_by || ''\n        };\n        console.log('[RateContext] Rate updated:', newRates);\n        setRates(newRates);\n        setLastUpdate(new Date());\n        setError(null);\n      } catch (err) {\n        console.error('[RateContext] Error fetching rate:', err);\n        setError('Error al cargar la tasa');\n      } finally {\n        setLoading(false);\n      }\n    }, []);\n\n    // Initial fetch\n    (0, _react.useEffect)(() => {\n      fetchRate();\n    }, [fetchRate]);\n\n    // Auto-refresh every 10 seconds for real-time updates\n    (0, _react.useEffect)(() => {\n      const interval = setInterval(() => {\n        fetchRate();\n      }, 10000); // 10 seconds for near real-time\n\n      return () => clearInterval(interval);\n    }, [fetchRate]);\n    const refreshRate = (0, _react.useCallback)(async () => {\n      setLoading(true);\n      await fetchRate();\n    }, [fetchRate]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(RateContext.Provider, {\n      value: {\n        rates,\n        loading,\n        error,\n        refreshRate,\n        lastUpdate\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }, this);\n  };\n  _s2(RateProvider, \"mqYgPRnyoBccVcJVXuhcpAS3Cyo=\");\n  _c = RateProvider;\n  var _default = RateContext;\n  var _c;\n  $RefreshReg$(_c, \"RateProvider\");\n});","lineCount":126,"map":[[15,2,101,0,"Object"],[15,8,101,0],[15,9,101,0,"defineProperty"],[15,23,101,0],[15,24,101,0,"exports"],[15,31,101,0],[16,4,101,0,"enumerable"],[16,14,101,0],[17,4,101,0,"get"],[17,7,101,0],[17,18,101,0,"get"],[17,19,101,0],[18,6,101,0],[18,13,101,0,"_default"],[18,21,101,0],[19,4,101,0],[20,2,101,0],[21,2,38,0,"Object"],[21,8,38,0],[21,9,38,0,"defineProperty"],[21,23,38,0],[21,24,38,0,"exports"],[21,31,38,0],[22,4,38,0,"enumerable"],[22,14,38,0],[23,4,38,0,"get"],[23,7,38,0],[23,18,38,0,"get"],[23,19,38,0],[24,6,38,0],[24,13,38,0,"useRate"],[24,20,38,0],[25,4,38,0],[26,2,38,0],[27,2,44,0,"Object"],[27,8,44,0],[27,9,44,0,"defineProperty"],[27,23,44,0],[27,24,44,0,"exports"],[27,31,44,0],[28,4,44,0,"enumerable"],[28,14,44,0],[29,4,44,0,"get"],[29,7,44,0],[29,18,44,0,"get"],[29,19,44,0],[30,6,44,0],[30,13,44,0,"RateProvider"],[30,25,44,0],[31,4,44,0],[32,2,44,0],[33,2,99,2],[33,6,99,2,"_expoVirtualEnv"],[33,21,99,2],[33,24,99,2,"require"],[33,31,99,2],[33,32,99,2,"_dependencyMap"],[33,46,99,2],[34,2,1,0],[34,6,1,0,"_react"],[34,12,1,0],[34,15,1,0,"require"],[34,22,1,0],[34,23,1,0,"_dependencyMap"],[34,37,1,0],[35,2,2,0],[35,6,2,0,"_axios"],[35,12,2,0],[35,15,2,0,"require"],[35,22,2,0],[35,23,2,0,"_dependencyMap"],[35,37,2,0],[36,2,2,0],[36,6,2,0,"axios"],[36,11,2,0],[36,14,2,0,"_interopDefault"],[36,29,2,0],[36,30,2,0,"_axios"],[36,36,2,0],[37,2,2,26],[37,6,2,26,"_reactJsxDevRuntime"],[37,25,2,26],[37,28,2,26,"require"],[37,35,2,26],[37,36,2,26,"_dependencyMap"],[37,50,2,26],[38,2,4,0],[38,8,4,6,"BACKEND_URL"],[38,19,4,17],[38,22,4,20,"_expoVirtualEnv"],[38,37,4,20],[38,38,4,20,"env"],[38,41,4,20],[38,42,4,20,"EXPO_PUBLIC_BACKEND_URL"],[38,65,4,20],[38,69,4,59],[38,71,4,61],[39,2,22,0],[39,8,22,6,"defaultRates"],[39,20,22,28],[39,23,22,31],[40,4,23,2,"ris_to_ves"],[40,14,23,12],[40,16,23,14],[40,19,23,17],[41,4,24,2,"ves_to_ris"],[41,14,24,12],[41,16,24,14],[41,19,24,17],[42,4,25,2,"ris_to_brl"],[42,14,25,12],[42,16,25,14],[42,17,25,15],[43,4,26,2,"updated_at"],[43,14,26,12],[43,16,26,14],[43,18,26,16],[44,4,27,2,"updated_by"],[44,14,27,12],[44,16,27,14],[45,2,28,0],[45,3,28,1],[46,2,30,0],[46,8,30,6,"RateContext"],[46,19,30,17],[46,35,30,20],[46,39,30,20,"createContext"],[46,45,30,33],[46,46,30,33,"createContext"],[46,59,30,33],[46,61,30,51],[47,4,31,2,"rates"],[47,9,31,7],[47,11,31,9,"defaultRates"],[47,23,31,21],[48,4,32,2,"loading"],[48,11,32,9],[48,13,32,11],[48,17,32,15],[49,4,33,2,"error"],[49,9,33,7],[49,11,33,9],[49,15,33,13],[50,4,34,2,"refreshRate"],[50,15,34,13],[50,17,34,15],[50,23,34,15,"refreshRate"],[50,24,34,15],[50,29,34,27],[50,30,34,28],[50,31,34,29],[51,4,35,2,"lastUpdate"],[51,14,35,12],[51,16,35,14],[52,2,36,0],[52,3,36,1],[52,4,36,2],[53,2,38,7],[53,8,38,13,"useRate"],[53,15,38,20],[53,18,38,23,"useRate"],[53,19,38,23],[54,4,38,23,"_s"],[54,6,38,23],[55,4,38,23],[55,11,38,29],[55,15,38,29,"useContext"],[55,21,38,39],[55,22,38,39,"useContext"],[55,32,38,39],[55,34,38,40,"RateContext"],[55,45,38,51],[55,46,38,52],[56,2,38,52],[57,2,38,53,"_s"],[57,4,38,53],[57,5,38,13,"useRate"],[57,12,38,20],[58,2,44,7],[58,8,44,13,"RateProvider"],[58,20,44,54],[58,23,44,57,"RateProvider"],[58,24,44,58],[59,4,44,60,"children"],[60,2,44,69],[60,3,44,70],[60,8,44,75],[61,4,44,75,"_s2"],[61,7,44,75],[62,4,45,2],[62,10,45,8],[62,11,45,9,"rates"],[62,16,45,14],[62,18,45,16,"setRates"],[62,26,45,24],[62,27,45,25],[62,30,45,28],[62,34,45,28,"useState"],[62,40,45,36],[62,41,45,36,"useState"],[62,49,45,36],[62,51,45,47,"defaultRates"],[62,63,45,59],[62,64,45,60],[63,4,46,2],[63,10,46,8],[63,11,46,9,"loading"],[63,18,46,16],[63,20,46,18,"setLoading"],[63,30,46,28],[63,31,46,29],[63,34,46,32],[63,38,46,32,"useState"],[63,44,46,40],[63,45,46,40,"useState"],[63,53,46,40],[63,55,46,41],[63,59,46,45],[63,60,46,46],[64,4,47,2],[64,10,47,8],[64,11,47,9,"error"],[64,16,47,14],[64,18,47,16,"setError"],[64,26,47,24],[64,27,47,25],[64,30,47,28],[64,34,47,28,"useState"],[64,40,47,36],[64,41,47,36,"useState"],[64,49,47,36],[64,51,47,52],[64,55,47,56],[64,56,47,57],[65,4,48,2],[65,10,48,8],[65,11,48,9,"lastUpdate"],[65,21,48,19],[65,23,48,21,"setLastUpdate"],[65,36,48,34],[65,37,48,35],[65,40,48,38],[65,44,48,38,"useState"],[65,50,48,46],[65,51,48,46,"useState"],[65,59,48,46],[65,61,48,60],[65,65,48,64],[65,66,48,65],[66,4,50,2],[66,10,50,8,"fetchRate"],[66,19,50,17],[66,22,50,20],[66,26,50,20,"useCallback"],[66,32,50,31],[66,33,50,31,"useCallback"],[66,44,50,31],[66,46,50,32],[66,58,50,44],[67,6,51,4],[67,10,51,8],[68,8,52,6,"console"],[68,15,52,13],[68,16,52,14,"log"],[68,19,52,17],[68,20,52,18],[68,55,52,53],[68,57,52,55],[68,60,52,58,"BACKEND_URL"],[68,71,52,69],[68,82,52,80],[68,83,52,81],[69,8,53,6],[69,14,53,12,"response"],[69,22,53,20],[69,25,53,23],[69,31,53,29,"axios"],[69,36,53,34],[69,37,53,34,"default"],[69,44,53,34],[69,45,53,35,"get"],[69,48,53,38],[69,49,53,39],[69,52,53,42,"BACKEND_URL"],[69,63,53,53],[69,74,53,64],[69,75,53,65],[70,8,55,6],[70,14,55,12,"newRates"],[70,22,55,30],[70,25,55,33],[71,10,56,8,"ris_to_ves"],[71,20,56,18],[71,22,56,20,"response"],[71,30,56,28],[71,31,56,29,"data"],[71,35,56,33],[71,36,56,34,"ris_to_ves"],[71,46,56,44],[71,50,56,48],[71,53,56,51],[72,10,57,8,"ves_to_ris"],[72,20,57,18],[72,22,57,20,"response"],[72,30,57,28],[72,31,57,29,"data"],[72,35,57,33],[72,36,57,34,"ves_to_ris"],[72,46,57,44],[72,50,57,48],[72,53,57,51],[73,10,58,8,"ris_to_brl"],[73,20,58,18],[73,22,58,20,"response"],[73,30,58,28],[73,31,58,29,"data"],[73,35,58,33],[73,36,58,34,"ris_to_brl"],[73,46,58,44],[73,50,58,48],[73,51,58,49],[74,10,59,8,"updated_at"],[74,20,59,18],[74,22,59,20,"response"],[74,30,59,28],[74,31,59,29,"data"],[74,35,59,33],[74,36,59,34,"updated_at"],[74,46,59,44],[74,50,59,48],[74,52,59,50],[75,10,60,8,"updated_by"],[75,20,60,18],[75,22,60,20,"response"],[75,30,60,28],[75,31,60,29,"data"],[75,35,60,33],[75,36,60,34,"updated_by"],[75,46,60,44],[75,50,60,48],[76,8,61,6],[76,9,61,7],[77,8,63,6,"console"],[77,15,63,13],[77,16,63,14,"log"],[77,19,63,17],[77,20,63,18],[77,49,63,47],[77,51,63,49,"newRates"],[77,59,63,57],[77,60,63,58],[78,8,64,6,"setRates"],[78,16,64,14],[78,17,64,15,"newRates"],[78,25,64,23],[78,26,64,24],[79,8,65,6,"setLastUpdate"],[79,21,65,19],[79,22,65,20],[79,26,65,24,"Date"],[79,30,65,28],[79,31,65,29],[79,32,65,30],[79,33,65,31],[80,8,66,6,"setError"],[80,16,66,14],[80,17,66,15],[80,21,66,19],[80,22,66,20],[81,6,67,4],[81,7,67,5],[81,8,67,6],[81,15,67,13,"err"],[81,18,67,16],[81,20,67,18],[82,8,68,6,"console"],[82,15,68,13],[82,16,68,14,"error"],[82,21,68,19],[82,22,68,20],[82,58,68,56],[82,60,68,58,"err"],[82,63,68,61],[82,64,68,62],[83,8,69,6,"setError"],[83,16,69,14],[83,17,69,15],[83,42,69,40],[83,43,69,41],[84,6,70,4],[84,7,70,5],[84,16,70,14],[85,8,71,6,"setLoading"],[85,18,71,16],[85,19,71,17],[85,24,71,22],[85,25,71,23],[86,6,72,4],[87,4,73,2],[87,5,73,3],[87,7,73,5],[87,9,73,7],[87,10,73,8],[89,4,75,2],[90,4,76,2],[90,8,76,2,"useEffect"],[90,14,76,11],[90,15,76,11,"useEffect"],[90,24,76,11],[90,26,76,12],[90,32,76,18],[91,6,77,4,"fetchRate"],[91,15,77,13],[91,16,77,14],[91,17,77,15],[92,4,78,2],[92,5,78,3],[92,7,78,5],[92,8,78,6,"fetchRate"],[92,17,78,15],[92,18,78,16],[92,19,78,17],[94,4,80,2],[95,4,81,2],[95,8,81,2,"useEffect"],[95,14,81,11],[95,15,81,11,"useEffect"],[95,24,81,11],[95,26,81,12],[95,32,81,18],[96,6,82,4],[96,12,82,10,"interval"],[96,20,82,18],[96,23,82,21,"setInterval"],[96,34,82,32],[96,35,82,33],[96,41,82,39],[97,8,83,6,"fetchRate"],[97,17,83,15],[97,18,83,16],[97,19,83,17],[98,6,84,4],[98,7,84,5],[98,9,84,7],[98,14,84,12],[98,15,84,13],[98,16,84,14],[98,17,84,15],[100,6,86,4],[100,13,86,11],[100,19,86,17,"clearInterval"],[100,32,86,30],[100,33,86,31,"interval"],[100,41,86,39],[100,42,86,40],[101,4,87,2],[101,5,87,3],[101,7,87,5],[101,8,87,6,"fetchRate"],[101,17,87,15],[101,18,87,16],[101,19,87,17],[102,4,89,2],[102,10,89,8,"refreshRate"],[102,21,89,19],[102,24,89,22],[102,28,89,22,"useCallback"],[102,34,89,33],[102,35,89,33,"useCallback"],[102,46,89,33],[102,48,89,34],[102,60,89,46],[103,6,90,4,"setLoading"],[103,16,90,14],[103,17,90,15],[103,21,90,19],[103,22,90,20],[104,6,91,4],[104,12,91,10,"fetchRate"],[104,21,91,19],[104,22,91,20],[104,23,91,21],[105,4,92,2],[105,5,92,3],[105,7,92,5],[105,8,92,6,"fetchRate"],[105,17,92,15],[105,18,92,16],[105,19,92,17],[106,4,94,2],[106,24,95,4],[106,28,95,4,"_reactJsxDevRuntime"],[106,47,95,4],[106,48,95,4,"jsxDEV"],[106,54,95,4],[106,56,95,5,"RateContext"],[106,67,95,16],[106,68,95,17,"Provider"],[106,76,95,25],[107,6,95,26,"value"],[107,11,95,31],[107,13,95,33],[108,8,95,35,"rates"],[108,13,95,40],[109,8,95,42,"loading"],[109,15,95,49],[110,8,95,51,"error"],[110,13,95,56],[111,8,95,58,"refreshRate"],[111,19,95,69],[112,8,95,71,"lastUpdate"],[113,6,95,82],[113,7,95,84],[114,6,95,84,"children"],[114,14,95,84],[114,16,96,7,"children"],[115,4,96,15],[116,6,96,15,"fileName"],[116,14,96,15],[116,16,96,15,"_jsxFileName"],[116,28,96,15],[117,6,96,15,"lineNumber"],[117,16,96,15],[118,6,96,15,"columnNumber"],[118,18,96,15],[119,4,96,15],[119,11,97,26],[119,12,97,27],[120,2,99,0],[120,3,99,1],[121,2,99,2,"_s2"],[121,5,99,2],[121,6,44,13,"RateProvider"],[121,18,44,54],[122,2,44,54,"_c"],[122,4,44,54],[122,7,44,13,"RateProvider"],[122,19,44,54],[123,2,101,0],[123,6,101,0,"_default"],[123,14,101,0],[123,17,101,15,"RateContext"],[123,28,101,26],[124,2,101,27],[124,6,101,27,"_c"],[124,8,101,27],[125,2,101,27,"$RefreshReg$"],[125,14,101,27],[125,15,101,27,"_c"],[125,17,101,27],[126,0,101,27],[126,3]],"functionMap":{"names":["<global>","createContext$argument_0.refreshRate","useRate","RateProvider","fetchRate","useEffect$argument_0","setInterval$argument_0","<anonymous>","refreshRate"],"mappings":"AAA;eCiC,cD;uBEI,6BF;yDGM;gCCM;GDuB;YEG;GFE;YEG;iCCC;KDE;WEE,6BF;GFC;kCKE;GLG;CHO"},"hasCjsExports":false},"type":"js/module"}]}